using HRManagementApp.Services;

HumanResourceManagerService hrm = new HumanResourceManagerService();

while (true)
{
    Console.WriteLine("\n-------Main Menu-------");
    Console.WriteLine("1- Add Employee");
    Console.WriteLine("2- Edit Employee");
    Console.WriteLine("3- Get Departments");
    Console.WriteLine("4- Add Department");
    Console.WriteLine("5- Edit Department");
    Console.WriteLine("6- Get All Employees");
    Console.WriteLine("7- Search Employee");
    Console.WriteLine("8- Remove Employee");
    Console.WriteLine("9- Remove Department");
    Console.WriteLine("0- Exit");
    Console.Write("Emeliyyat secin: ");
    string command = Console.ReadLine();

    switch (command)
    {
        case "1":
            try
            {
                string fullName;
                while (true)
                {
                    Console.Write("Fullname: ");
                    fullName = Console.ReadLine();
                    if (string.IsNullOrWhiteSpace(fullName))
                    {
                        Console.WriteLine("Xeta: Fullname bos ola bilmez!");
                        continue;
                    }
                    break;
                }

                string departmentName;
                while (true)
                {
                    Console.Write("Department Name: ");
                    departmentName = Console.ReadLine();
                    if (string.IsNullOrWhiteSpace(departmentName))
                    {
                        Console.WriteLine("Xeta: Department name bos ola bilmez!");
                        continue;
                    }
                    if (departmentName.Length < 2)
                    {
                        Console.WriteLine("Xeta: Department adi minimum 2 herf olmalidir!");
                        continue;
                    }
                    break;
                }

                string position;
                while (true)
                {
                    Console.Write("Position: ");
                    position = Console.ReadLine();
                    if (string.IsNullOrWhiteSpace(position))
                    {
                        Console.WriteLine("Xeta: Position bos ola bilmez!");
                        continue;
                    }
                    if (position.Length < 2)
                    {
                        Console.WriteLine("Xeta: Position minimum 2 herf olmalidir!");
                        continue;
                    }
                    break;
                }

                double salary;
                while (true)
                {
                    Console.Write("Salary: ");
                    string salaryInput = Console.ReadLine();
                    if (!double.TryParse(salaryInput, out salary))
                    {
                        Console.WriteLine("Xeta: Salary reqem olmalidir!");
                        continue;
                    }
                    if (salary < 250)
                    {
                        Console.WriteLine("Xeta: Salary minimum 250 olmalidir!");
                        continue;
                    }
                    break;
                }

                hrm.AddEmployee(fullName, departmentName, position, salary);
                Console.WriteLine($"{fullName} adli isci ugurla elave olundu");
            }
            catch (Exception ex)
            {
                Console.WriteLine($"Xeta: {ex.Message}");
            }
            break;

        case "2":
            try
            {
                string no;
                while (true)
                {
                    Console.Write("Employee No: ");
                    no = Console.ReadLine();
                    if (string.IsNullOrWhiteSpace(no))
                    {
                        Console.WriteLine("Xeta: Employee No bos ola bilmez!");
                        continue;
                    }
                    break;
                }

                string newPosition;
                while (true)
                {
                    Console.Write("New Position: ");
                    newPosition = Console.ReadLine();
                    if (string.IsNullOrWhiteSpace(newPosition))
                    {
                        Console.WriteLine("Xeta: Position bos ola bilmez!");
                        continue;
                    }
                    if (newPosition.Length < 2)
                    {
                        Console.WriteLine("Xeta: Position minimum 2 herf olmalidir!");
                        continue;
                    }
                    break;
                }

                double newSalary;
                while (true)
                {
                    Console.Write("New Salary: ");
                    string salaryInput = Console.ReadLine();
                    if (!double.TryParse(salaryInput, out newSalary))
                    {
                        Console.WriteLine("Xeta: Salary reqem olmalidir!");
                        continue;
                    }
                    if (newSalary < 250)
                    {
                        Console.WriteLine("Xeta: Salary minimum 250 olmalidir!");
                        continue;
                    }
                    break;
                }

                hrm.EditEmployee(no, newPosition, newSalary);
                Console.WriteLine($"{no} nomreli isci ugurla deyisdirildi");
            }
            catch (Exception ex)
            {
                Console.WriteLine($"Xeta: {ex.Message}");
            }
            break;

        case "3":
            hrm.GetAllDepartments();
            break;

        case "4":
            try
            {
                string name;
                while (true)
                {
                    Console.Write("Department Name: ");
                    name = Console.ReadLine();
                    if (string.IsNullOrWhiteSpace(name))
                    {
                        Console.WriteLine("Xeta: Department name bos ola bilmez!");
                        continue;
                    }
                    if (name.Length < 2)
                    {
                        Console.WriteLine("Xeta: Department adi minimum 2 herf olmalidir!");
                        continue;
                    }
                    break;
                }

                int employeeLimit;
                while (true)
                {
                    Console.Write("Employee Limit: ");
                    string limitInput = Console.ReadLine();
                    if (!int.TryParse(limitInput, out employeeLimit))
                    {
                        Console.WriteLine("Xeta: Employee limit tam reqem olmalidir!");
                        continue;
                    }
                    if (employeeLimit < 1)
                    {
                        Console.WriteLine("Xeta: Employee limit minimum 1 olmalidir!");
                        continue;
                    }
                    break;
                }

                double salaryLimit;
                while (true)
                {
                    Console.Write("Salary Limit: ");
                    string salaryInput = Console.ReadLine();
                    if (!double.TryParse(salaryInput, out salaryLimit))
                    {
                        Console.WriteLine("Xeta: Salary limit reqem olmalidir!");
                        continue;
                    }
                    if (salaryLimit < 250)
                    {
                        Console.WriteLine("Xeta: Salary limit minimum 250 olmalidir!");
                        continue;
                    }
                    break;
                }

                hrm.AddDepartment(name, employeeLimit, salaryLimit);
                Console.WriteLine($"{name} adli department ugurla elave olundu");
            }
            catch (Exception ex)
            {
                Console.WriteLine($"Xeta: {ex.Message}");
            }
            break;

        case "5":
            try
            {
                string deptName;
                while (true)
                {
                    Console.Write("Department Name: ");
                    deptName = Console.ReadLine();
                    if (string.IsNullOrWhiteSpace(deptName))
                    {
                        Console.WriteLine("Xeta: Department name bos ola bilmez!");
                        continue;
                    }
                    if (deptName.Length < 2)
                    {
                        Console.WriteLine("Xeta: Department adi minimum 2 herf olmalidir!");
                        continue;
                    }
                    break;
                }

                int newEmployeeLimit;
                while (true)
                {
                    Console.Write("New Employee Limit: ");
                    string limitInput = Console.ReadLine();
                    if (!int.TryParse(limitInput, out newEmployeeLimit))
                    {
                        Console.WriteLine("Xeta: Employee limit tam reqem olmalidir!");
                        continue;
                    }
                    if (newEmployeeLimit < 1)
                    {
                        Console.WriteLine("Xeta: Employee limit minimum 1 olmalidir!");
                        continue;
                    }
                    break;
                }

                double newSalaryLimit;
                while (true)
                {
                    Console.Write("New Salary Limit: ");
                    string salaryInput = Console.ReadLine();
                    if (!double.TryParse(salaryInput, out newSalaryLimit))
                    {
                        Console.WriteLine("Xeta: Salary limit reqem olmalidir!");
                        continue;
                    }
                    if (newSalaryLimit < 250)
                    {
                        Console.WriteLine("Xeta: Salary limit minimum 250 olmalidir!");
                        continue;
                    }
                    break;
                }

                hrm.EditDepartment(deptName, newEmployeeLimit, newSalaryLimit);
                Console.WriteLine($"{deptName} adli department ugurla deyisdirildi");
            }
            catch (Exception ex)
            {
                Console.WriteLine($"Xeta: {ex.Message}");
            }
            break;

        case "6":
            hrm.GetAllEmployees();
            break;

        case "7":
            string search;
            while (true)
            {
                Console.Write("Search: ");
                search = Console.ReadLine();
                if (string.IsNullOrWhiteSpace(search))
                {
                    Console.WriteLine("Xeta: Search deyeri bos ola bilmez!");
                    continue;
                }
                break;
            }
            hrm.SearchEmployee(search);
            break;

        case "8":
            try
            {
                string empNo;
                while (true)
                {
                    Console.Write("Employee No: ");
                    empNo = Console.ReadLine();
                    if (string.IsNullOrWhiteSpace(empNo))
                    {
                        Console.WriteLine("Xeta: Employee No bos ola bilmez!");
                        continue;
                    }
                    break;
                }

                hrm.RemoveEmployee(empNo);
                Console.WriteLine($"{empNo} nomreli isci ugurla silindi");
            }
            catch (Exception ex)
            {
                Console.WriteLine($"Xeta: {ex.Message}");
            }
            break;

        case "9":
            try
            {
                string deptToRemove;
                while (true)
                {
                    Console.Write("Department Name: ");
                    deptToRemove = Console.ReadLine();
                    if (string.IsNullOrWhiteSpace(deptToRemove))
                    {
                        Console.WriteLine("Xeta: Department name bos ola bilmez!");
                        continue;
                    }
                    break;
                }

                hrm.RemoveDepartment(deptToRemove);
                Console.WriteLine($"{deptToRemove} adli department ugurla silindi");
            }
            catch (Exception ex)
            {
                Console.WriteLine($"Xeta: {ex.Message}");
            }
            break;

        case "0":
            Console.WriteLine("Proqramdan cixilir...");
            Environment.Exit(0);
            break;

        default:
            Console.WriteLine("Yanlis emeliyyat secdiniz");
            break;
    }
}
